<!-- tip-view-page.html -->
{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="container mt-4">
    <h1>{{ tip.title }}</h1>

    <!-- Display image if it exists -->
    {% if tip.image_url %}
        <img src="{{ tip.image_url }}" alt="Tip Image" class="img-fluid" />
    {% endif %}

    <p>{{ tip.content }}</p>

    <!-- Display categories -->
    <div class="mt-3">
        <strong>Categories:</strong>
        {% for category in tip.categories.all %}
            <span class="badge badge-primary">{{ category.name }}</span>
        {% endfor %}
    </div>

    <!-- Display tags -->
    <div class="mt-3">
        <strong>Tags:</strong>
        {% for tag in tip.tags.all %}
            <span class="badge badge-secondary">{{ tag.name }}</span>
        {% endfor %}
    </div>

    <!-- Like and Dislike buttons -->
    <div class="mt-4 d-flex align-items-center">
        <!-- Like Button -->
        <form action="{% url 'like_tip' tip.id %}" method="post" class="mr-3">
            {% csrf_token %}
            <button type="submit" class="btn {% if user in tip.likes.all %}btn-success{% else %}btn-outline-success{% endif %}">
                <i class="fas fa-thumbs-up"></i> Like
            </button>
        </form>
        <span class="mr-4">{{ tip.total_likes }} Likes</span>

        <!-- Dislike Button -->
        <form action="{% url 'dislike_tip' tip.id %}" method="post" class="mr-3">
            {% csrf_token %}
            <button type="submit" class="btn {% if user in tip.dislikes.all %}btn-danger{% else %}btn-outline-danger{% endif %}">
                <i class="fas fa-thumbs-down"></i> Dislike
            </button>
        </form>
        <span>{{ tip.total_dislikes }} Dislikes</span>
    </div>
</div>
{% endblock %}