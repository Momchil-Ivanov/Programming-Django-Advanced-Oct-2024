{% extends 'base.html' %}

{% load static %}  <!-- Add this line to load the static tag -->

{% block content %}
<div class="container mt-4">
    <h1>{{ tip.title }}</h1>

    <!-- Check if image_url exists, if not, show a placeholder or hide the image element -->
    {% if tip.image_url %}
        <img src="{{ tip.image_url }}" alt="Tip Image" class="img-fluid" />
    {% else %}
        <!-- Optional: Display a placeholder image or nothing if no image is provided -->
        <img src="{% static 'images/placeholder.jpg' %}" alt="No Image Available" class="img-fluid" />
    {% endif %}

    <p>{{ tip.content }}</p>

    <div class="mt-3">
        <strong>Categories:</strong>
        {% for category in tip.categories.all %}
            <span class="badge badge-primary">{{ category.name }}</span>
        {% endfor %}
    </div>

    <div class="mt-3">
        <strong>Tags:</strong>
        {% for tag in tip.tags.all %}
            <span class="badge badge-secondary">{{ tag.name }}</span>
        {% endfor %}
    </div>

    <!-- Like and Dislike Buttons with Counts -->
    <div class="mt-4 d-flex align-items-center">
        <!-- Like Button Form -->
        <form action="{% url 'like_tip' tip.id %}" method="post" class="mr-3">
            {% csrf_token %}
            <button type="submit" class="btn btn-success">
                <i class="fas fa-thumbs-up"></i> Like
            </button>
        </form>
        <span class="mr-4">{{ tip.total_likes }} Likes</span>

        <!-- Dislike Button Form -->
        <form action="{% url 'dislike_tip' tip.id %}" method="post" class="mr-3">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">
                <i class="fas fa-thumbs-down"></i> Dislike
            </button>
        </form>
        <span>{{ tip.total_dislikes }} Dislikes</span>
    </div>
</div>
{% endblock %}